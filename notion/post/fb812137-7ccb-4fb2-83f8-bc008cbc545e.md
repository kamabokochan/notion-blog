
## **useTransition**


> `useTransition` は、UI をブロックせずに state を更新するための React フックです。


長時間かかるようなstate更新の処理のタイミングをコントロールすることで、ユーザ体験を向上させる目的のフック。


```typescript
const [isPending, startTransition] = useTransition()
```

- 引数
	- なし
- 返り値
	- `isPending`
		- トランジションが保留中であるかどうかを示すフラグ
	- `startTransition`
		- state更新をトランジションとしてマークするための関数

			```typescript
			function TabContainer() {
			  const [isPending, startTransition] = useTransition();
			  const [tab, setTab] = useState('about');
			
			  function selectTab(nextTab) {
			    startTransition(() => {
			      setTab(nextTab);
			    });
			  }
			  // ...
			}
			```

			- `startTransition` 関数は、1つ以上の`set`関数を呼び出し、stateを更新する。

## **トランジション中に保留中状態を視覚的に表示する（**[https://ja.react.dev/reference/react/useTransition#displaying-a-pending-visual-state-during-the-transition](https://ja.react.dev/reference/react/useTransition#displaying-a-pending-visual-state-during-the-transition)**）**

- `isPending` を使って、トランジションが進行中であることを視覚的に表現できる。

	```typescript
	function TabButton({ children, isActive, onClick }) {
	  const [isPending, startTransition] = useTransition();
	  // ...
	  if (isPending) {
	    return <b className="pending">{children}</b>;
	  }
	  // ...
	```


## **望ましくないローディングインジケータの防止（**[https://ja.react.dev/reference/react/useTransition#preventing-unwanted-loading-indicators](https://ja.react.dev/reference/react/useTransition#preventing-unwanted-loading-indicators)**）**

- 一番近いサスペンスが表示されることで、意図しないユーザ体験となる場合に、`useTransition` を使うことで、別のアプローチの体験を提供することができる。
