
### SC(Server Components)を使う場面


---

- async/awaitを初回レンダリング時から使用したい場合
- SCのみで実行可能なJS
	- (HooksやDOMイベントなどSCで実行できないケースを除いて)

### SC/CCのバンドルサイズ比較


---


>1点の違いとして、CC側では、page-xxx.jsという小さなファイルがリクエストされており、リクエスト数が1つ多くなっています。


>一方、SCのみのページでは、同様のファイルはダウンロードされていません。
これはレンダリングされている全てのコンポーネントがSCのみだからです（コンポーネントが、SCであるページのみ）。


例えばこのSCからCCを1つでもインポートすれば、同様のファイルがインポートされるようになります。


### **ページに重いCCをインポートして比較する**


---


>通信量が40kB増え、通信時間が20ms遅くなり、DOMロードが5ms遅くなっています。


### **ページに重いSCをインポートして比較する**


---


>全く変わりません。


ただし


>重いSCをインポートしてもバンドルサイズには影響ありませんが、SSRの場合、サーバーサイドでの処理量が多くなることにより実行速度には影響が出ます。


### **Discussion**


---


>Server ComponentであるFooPageから、Client ComponentであるBarComponentを使っている

	- このルートはSSR（Next.js 13ではDynamic Renderingと呼称）とする
- このルートに対して、ブラウザリロードなどでリクエストが来た

このとき、以下のような結果になると認識しています。

- サーバーサイドでは、FooPageとBarComponentの両方の処理が実行され、レンダリングされる
	- ※これが本文中の、"CCにおいて（は、フロントエンドだけでなく、）サーバーサイドで（も）JSが実行される"となります
- FooPageはServer Componentのため、FooPageのJS処理はフロントエンドには実行されない（バンドルから削られる）、BarComponentはClient Componentのため、JS処理はフロントエンドでも実行される
